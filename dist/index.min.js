!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Drawer",[],e):"object"==typeof exports?exports.Drawer=e():t.Drawer=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{wrapper:null,inner:null},e={margin:0,padding:0,border:"none",background:"transparent"},r=l.default.extend({position:"relative",overflow:"hidden"},l.default.prefix("translateZ",0),e,t.wrapper),n=l.default.extend({position:"absolute"},e,t.inner);return(0,l.default)('\n        <div class="w-drawer-wrapper" style="'+l.default.stringify(r)+'">\n            <div class="w-drawer-inner" style="'+l.default.stringify(n)+'">\n            </div>\n        </div>\n    ')}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(1),l=n(u),d=function(){function t(e){var r=e.target,n=e.direction,a=void 0===n?"bottom":n,o=e.duration,s=void 0===o?250:o,u=e.timingFunction,d=void 0===u?"ease":u,f=e.showOption,c=e.onChange,h=void 0===c?function(){}:c;i(this,t),l.default.extend(this,{direction:a,duration:s,timingFunction:d,showOption:f,onChange:h}),this.$target=(0,l.default)(r),this.$parent=this.$target.parent(),this.status="ready"}return s(t,[{key:"show",value:function(){var t=this;if("ready"===this.status&&"none"===this.$target.css("display")){this.status="pending";var e=this.direction,r=this.$target,n=r.attr("style")||"",i={width:0,height:0,display:"none"},o=r.css("position");["absolute","fixed"].indexOf(o)>-1&&(i.position=o);var s=this.$parent.getStyle(["padding","border","width","height"]);s.margin=l.default.inverse(s.padding);var u=a({wrapper:i,inner:s}),d=(0,l.default)(".w-drawer-inner",u);u.insertAfter(r),d.append(r),this.display("show"),u.removeStyle("display");var f=!1;switch(0===r.width()&&"block"===r.css("display")&&"none"===r.css("float")&&(r.css("float","left"),f=!0),"border-box"===r.css("box-sizing")?r.css(r.outerSize(!0)):r.css(r.size(!0)),f&&r.removeStyle("float"),"static"!==o&&r.css("position","static"),i=r.getStyle(["display","top","bottom","right","left"]),["absolute","fixed"].indexOf(o)>-1&&(i[e]="auto"),s=l.default.extend({margin:0,padding:0,border:"none"},r.outerSize(!0)),e){case"top":l.default.extend(i,{width:r.outerWidth(!0),height:0}),l.default.extend(s,{bottom:0,left:0},l.default.prefix("transform","translateY(100%)"));break;case"bottom":l.default.extend(i,{width:r.outerWidth(!0),height:0}),l.default.extend(s,{top:0,left:0},l.default.prefix("transform","translateY(-100%)"));break;case"left":l.default.extend(i,{width:0,height:r.outerHeight(!0)}),l.default.extend(s,{top:0,right:0},l.default.prefix("transform","translateX(100%)"));break;case"right":l.default.extend(i,{width:0,height:r.outerHeight(!0)}),l.default.extend(s,{top:0,left:0},l.default.prefix("transform","translateX(-100%)"))}u.css(i),d.css(s),d.on("webkitTransitionEnd transitionend",function(){u.replaceWith(r),r.attr("style",n),u=null,d=null,t.status="ready",t.onChange("show")});var c=this.duration+"ms "+this.timingFunction;switch(i=l.default.prefix("transition",c),s=l.default.prefix("transition",c),e){case"top":i.height=r.outerHeight(!0),l.default.extend(s,l.default.prefix("transform","translateY(0)"));break;case"bottom":i.height=r.outerHeight(!0),l.default.extend(s,l.default.prefix("transform","translateY(0)"));break;case"left":i.width=r.outerWidth(!0),l.default.extend(s,l.default.prefix("transform","translateX(0)"));break;case"right":i.width=r.outerWidth(!0),l.default.extend(s,l.default.prefix("transform","translateX(0)"))}u.css(i),d.css(s)}}},{key:"hide",value:function(){var t=this;if("ready"===this.status&&"none"!==this.$target.css("display")){this.status="pending";var e=this.$target,r=e.attr("style")||"",n=l.default.extend(e.outerSize(!0),e.getStyle(["display","top","right","bottom","left"])),i=e.outerSize(!0),o=e.css("position");"static"!==o&&(n.position=o);var s=this.direction;switch(["absolute","fixed"].indexOf(o)>-1&&(n[s]="auto"),s){case"top":l.default.extend(i,{bottom:0,left:0},l.default.prefix("transform","translateY(0)"));break;case"bottom":l.default.extend(i,{top:0,left:0},l.default.prefix("transform","translateY(0)"));break;case"left":l.default.extend(i,{top:0,right:0},l.default.prefix("transform","translateX(0)"));break;case"right":l.default.extend(i,{top:0,left:0},l.default.prefix("transform","translatex(0)"))}var u=a({wrapper:n,inner:i}),d=(0,l.default)(".w-drawer-inner",u),f="border-box"===e.css("box-sizing")?e.outerSize(!0):e.size(!0);switch("static"!==o&&(f.position="static"),u.insertAfter(e.css(f)),d.append(e),u.height(),d.on("webkitTransitionEnd transitionend",function(){t.display("hide"),u.replaceWith(e),e.attr("style",r),u=null,d=null,t.status="ready",t.onChange("hide")}),s){case"top":n={height:0},i=l.default.prefix("transform","translateY(100%)");break;case"bottom":n={height:0},i=l.default.prefix("transform","translateY(-100%)");break;case"left":n={width:0},i=l.default.prefix("transform","translateX(100%)");break;case"right":n={width:0},i=l.default.prefix("transform","translateX(-100%)")}var c=this.duration+"ms "+this.timingFunction;l.default.extend(n,l.default.prefix("transition",c)),l.default.extend(i,l.default.prefix("transition",c)),u.css(n),d.css(i)}}},{key:"toggle",value:function(){"none"===this.$target.css("display")?this.show():this.hide()}},{key:"display",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show",e=this.showOption,r="show"===t?[e.add,e.remove]:[e.remove,e.add],n=o(r,2),i=n[0],a=n[1];if(i){if(i.class){var s=i.class;Array.isArray(s)&&(s=s.join(" ")),this.$target.addClass(s)}i.style&&this.$target.css(i.style)}if(a){if(a.class){var u=a.class;Array.isArray(u)&&(u=u.join(" ")),this.$target.removeClass(u)}a.style&&this.$target.removeStyle(a.style)}}}]),t}();e.default=d,t.exports=e.default},function(t,e,r){!function(e,r){t.exports=r()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return t instanceof s?t:new s(t,e)}function a(t,e,r){return t[e]=r,t}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=function(){function t(e,r){if(n(this,t),"string"==typeof e)if(e=e.trim(),"<"===e.slice(0,1)&&">"===e.slice(-1)){var a=document.createElement("div");a.innerHTML=e,e=a.children[0]}else e=(i.getDom(r)||document).querySelector(e);this.dom=e,this.computed=getComputedStyle(e),this.style=e.style}return o(t,[{key:"parent",value:function(){return i(this.dom.parentNode)}},{key:"attr",value:function(t,e){return null==e?this.dom.getAttribute(t):(this.dom.setAttribute(t,e),this)}},{key:"width",value:function(t){return t=t?"px":0,this.computed.boxSizing?parseFloat(this.computed.width)-parseFloat(this.computed.paddingLeft)-parseFloat(this.computed.paddingRight)+t:parseFloat(this.computed.width)+t}},{key:"height",value:function(t){return t=t?"px":0,this.computed.boxSizing?parseFloat(this.computed.height)-parseFloat(this.computed.paddingTop)-parseFloat(this.computed.paddingBottom)+t:parseFloat(this.computed.height)+t}},{key:"size",value:function(t){return{width:this.width(t),height:this.height(t)}}},{key:"outerWidth",value:function(t){return t=t?"px":0,this.dom.clientWidth+parseFloat(this.computed.borderLeft)+parseFloat(this.computed.borderRight)+t}},{key:"outerHeight",value:function(t){return t=t?"px":0,this.dom.clientHeight+parseFloat(this.computed.borderTop)+parseFloat(this.computed.borderBottom)+t}},{key:"outerSize",value:function(t){return{width:this.outerWidth(t),height:this.outerHeight(t)}}},{key:"css",value:function(t,e){switch(i.instance(t)){case"String":return null==e?this.computed[t]:(this.style[t]=e,this);case"Array":return"remove"===e?this.removeStyle(t):this.getStyle(t);default:return this.setStyle(t)}}},{key:"setStyle",value:function(t){var e=Object.keys(t).reduce(function(e,r){return a(e,r,t[r])},i.parse(this.attr("style")||""));return this.attr("style",i.stringify(e)),this}},{key:"getStyle",value:function(t){var e=this;return t.reduce(function(t,r){return a(t,r,e.computed[r])},{})}},{key:"removeStyle",value:function(t){t="string"==typeof t?[t]:t;var e=i.parse(this.attr("style")||""),r=Object.keys(e).filter(function(e){return t.indexOf(e)===-1}).reduce(function(t,r){return""+t+r+":"+e[r]+";"},"");return this.attr("style",r),this}},{key:"addClass",value:function(t){return this.dom.className=t.trim().split(" ").reduce(function(t,e){return t.indexOf(e)>-1?t:t+" "+e},this.dom.className.trim()),this}},{key:"removeClass",value:function(t){var e=" "+this.dom.className+" ";return/^ *$/.test(e)?this:(this.dom.className=t.split(" ").reduce(function(t,e){return t.replace(" "+e+" "," ")},e).trim(),this)}},{key:"insertAfter",value:function(t){t=i.getDom(t);var e=t.parentNode;return e.lastChild===t?e.appendChild(this.dom):e.insertBefore(this.dom,t.nextSibling),this}},{key:"append",value:function(t){return t=i.getDom(t),this.dom.appendChild(t),this}},{key:"replaceWith",value:function(t){t=i.getDom(t);var e=this.dom.parentNode;return e.replaceChild(t,this.dom),this}},{key:"on",value:function(t,e){var r=this;return(Array.isArray(t)?t:t.split(" ")).forEach(function(t){return r.dom.addEventListener(t,e)}),this}}]),t}();i.stringify=function(t){return Object.keys(t).filter(function(e){return!e||null!=t[e]}).reduce(function(e,r){return""+e+i.dasherize(r)+":"+t[r]+";"},"")},i.parse=function(t){return t.trim().replace(/ *(;|:) */g,"$1").replace(/;$/,"").split(";").filter(function(t){return!!t}).reduce(function(t,e){return a.apply(void 0,[t].concat(r(e.split(":"))))},{})},i.dasherize=function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},i.prefix=function(t,e){return["","-webkit-"].reduce(function(r,n){return a(r,""+n+t,e)},{})},i.inverse=function(t){return(" "+t).replace(/( +)(\D?)(\d+)/g,function(t,e,r,n){return""+e+("-"===r?"+":"-")+n}).replace(/^ /,"")},i.extend=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return null==e[0]?e[0]:e.reduce(function(t,e){return null==e?t:Object.keys(e).reduce(function(t,r){return a(t,r,e[r])},t)})},i.instance=function(t){return Object.prototype.toString.call(t).slice(8,-1)},i.getDom=function(t){return t instanceof s?t.dom:t},e.default=i,t.exports=e.default}])})}])});